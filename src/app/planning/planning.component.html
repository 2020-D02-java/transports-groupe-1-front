<div class="row mt-4">

  <div class="col-12">
    <h1>Planning</h1>
  </div>

  <!-- Swicth day -->
  <div class="col-12 text-right">
    <button class="btn" (click)="jourPrecedent()">
      <fa-icon [icon]="faChevronLeft"></fa-icon>
    </button>
    <span>{{viewDate.toLocaleDateString()}}</span>
    <button class="btn" (click)="jourSuivant()">
      <fa-icon [icon]="faChevronRight"></fa-icon>
    </button>
  </div>

  <!-- Calendar -->
  <mwl-calendar-day-view [viewDate]="viewDate" [hourSegmentTemplate]="heure" [events]="events" [refresh]="refresh"
    [eventTemplate]="eventTemplate">
  </mwl-calendar-day-view>


</div>

<!-- Template Heure -->
<ng-template #heure let-segment="segment" let-locale="locale" let-segmentHeight="segmentHeight">
  <div class="cal-hour-segment" [style.height.px]="segmentHeight" [class.cal-hour-start]="segment.isStart"
    [class.cal-after-hour-start]="!segment.isStart" [ngClass]="segment.cssClass">
    <div class="cal-time">
      {{ step(segment.date.getHours()) }}h{{ step(segment.date.getMinutes())}}
    </div>
  </div>
</ng-template>

<!-- Event Template -->
<ng-template #eventTemplate let-dayEvent="dayEvent" let-tooltipPlacement="tooltipPlacement"
  let-eventClicked="eventClicked" let-tooltipTemplate="tooltipTemplate" let-tooltipAppendToBody="tooltipAppendToBody">
  <div class="cal-event" [style.backgroundColor]="dayEvent.event.color?.secondary"
    [style.borderColor]="dayEvent.event.color?.primary"
    [mwlCalendarTooltip]="dayEvent.event.title | calendarEventTitle:'dayTooltip':dayEvent.event"
    [tooltipPlacement]="tooltipPlacement" [tooltipEvent]="dayEvent.event" [tooltipTemplate]="tooltipTemplate"
    [tooltipAppendToBody]="tooltipAppendToBody" (mwlClick)="eventClicked.emit()">
    &ngsp;
    <mwl-calendar-event-title [event]="dayEvent.event" [customTemplate]="eventTitleTemplate" view="day">
    </mwl-calendar-event-title>
  </div>
</ng-template>
